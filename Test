-- Load Mercury UI Library
local Mercury = loadstring(game:HttpGet("https://raw.githubusercontent.com/deeeity/mercury-lib/master/src.lua"))()

-- Create the main GUI
local GUI = Mercury:Create{
    Name = "Mainland Teleport GUI",
    Theme = Mercury.Themes.Dark,
    Link = "https://github.com/deeeity/mercury-lib"
}

-- Create a tab
local MainTab = GUI:Tab{
    Name = "Main",
    Icon = "rbxassetid://8569322835"
}

-- === Universal Exclusions ===
local exclusions = {
    ["{84b93b68-b932-4db8-b765-d1bd9ef8aae9}"] = true,
    ["{c5769905-aecf-4d7a-ada9-064802b0cae9}"] = true,
    ["{d2227f02-c482-4911-b201-7e842b31c47c}"] = true,
    ["{6b019e60-21c6-4536-9a06-4cbfee80d88f}"] = true,
    ["{12916ad6-7fd9-46d5-8bc1-e69671249721}"] = true,
    ["{2c0549c7-f2d0-4828-bc2a-6d484e792cdd}"] = true,
    ["{de31ac95-029b-4c26-b9f8-4b61faed7335}"] = true,
    ["{fd489389-537f-40e1-bd1a-c048522d23bc}"] = true,
    ["{f1f04024-ba69-4d0f-9fee-4f93758c1bfc}"] = true,
    ["Horse"] = true,
    ["Travel Boat"] = true,
    ["c21e5cba-8957-4d65-9e54-1aaa2411a71c"] = true,
}

-- Toggle teleport to "Body" parts, respecting exclusions
local teleporting = false

MainTab:Toggle{
    Name = "Auto Teleport to Body",
    StartingState = false,
    Description = "Teleports to one 'Body' at a time until it disappears, skipping exclusions",
    Callback = function(state)
        teleporting = state
        if teleporting then
            spawn(function()
                local player = game.Players.LocalPlayer
                local hrp = player.Character and player.Character:FindFirstChild("HumanoidRootPart")

                while teleporting and hrp do
                    local mainland = workspace:FindFirstChild("Islands") and workspace.Islands:FindFirstChild("Mainland")
                    if mainland then
                        for _, model in pairs(mainland:GetChildren()) do
                            -- Skip excluded models
                            if not exclusions[model.Name] then
                                local body = model:FindFirstChild("Body")
                                if body then
                                    -- Keep teleporting to this Body until it disappears
                                    repeat
                                        if not teleporting then break end
                                        hrp.CFrame = CFrame.new(body.Position + Vector3.new(0,3,0))
                                        wait(0.3)
                                    until not body or not body.Parent
                                end
                            end
                        end
                    end
                    wait(0.5)
                end
            end)
        end
    end
}
